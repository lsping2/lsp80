<?function html_cache_disable()
{

	header("Expires: Mon, 26 Jul 1997 05:00:00 GMT");
	header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");

	// HTTP/1.1
//	header("Cache-Control: no-store, no-cache, must-revalidate");
 
//	header("Cache-Control: no-store, private, must-revalidate");
	
	header("Cache-Control: post-check=0, pre-check=0", false);

	// HTTP/1.0
	header("Pragma: no-cache");

}
html_cache_disable();
?>
<HTML>
<HEAD>
<TITLE> New Document </TITLE>
<SCRIPT LANGUAGE="JavaScript">
<!--
	var req = null;
	var console = null;
	var READY_STATE_UNINITIALIZED = 0;
	var READY_STATE_LOADING = 1;
	var READY_STATE_LOADED = 2;
	var READY_STATE_INTERACTIVE = 3;
	var READY_STATE_COMPLETE = 4;	//4는 완료되었을때를 의미

	function sendRequest(url,params,HttpMethod)	{
		if (!HttpMethod)
		{
			HttpMethod = "GET";
		}
		req = initXMLHTTPRequest();
		if (req)
		{
			req.onreadystatechange = onReadyState;
			req.open(HttpMethod, url, true);
			req.setRequestHeader("Content-Type", "application/x-www-form-rulencoded");
			req.send(params);
		}
	}

	function initXMLHTTPRequest()	{
		var xRequest = null;
		if (window.XMLHttpRequest)
		{
			xRequest = new XMLHttpRequest();
		}
		else
		if (window.ActiveXObject)
		{
			xRequest = new ActiveXObject("Microsoft.XMLHTTP");
		}
		return xRequest;


	}

	//@@@@@@@@@여기까지는 Ajax 기본 구동 함수들임@@@@@@@@@

	function onReadyState()	 {  //함수정의
		var ready = req.readyState;  //변수선언 상태임.
		var data = null;  //data 즉 b.html 값을 담을 변수이다. 기본값은 없기땜시 초기화 null로 설정
		if (ready == READY_STATE_COMPLETE)  //만약 b.html 로딩이 모두 완료되었다면
		{
			data = req.responseText;  //data 라는 변수에 b.html 결과값을 담는다. 여기서 req 는 위에 보면 통신하는데 필요한 함수다.
		}
		document.getElementById("console").innerHTML = data  //아래 id를 console 이라는 값을 가진 텍스트박스에 결과값을 뿌려준다.

	}



	function Go_Ajax()	{  //클릭 했을때...onClick 했을때..


	console = document.getElementById("console");  //바로 위에 있지만..처리 후 뿌려줄 텍스트박스ID값을 변수에 담는다.
			
	setInterval("sendRequest('./b.php');",2000);

	}

	//function Go_Ajax()	 {
	//	document.getElementById("console").innerHTML = document.getElementById("console").innerHTML + "abc+";
	//}
	

//,setTimeout
//-->
</SCRIPT>
</HEAD>
<BODY onload="Go_Ajax();">
<div id="console" style="width:500px; height:500px"></div>
</BODY>
</HTML>
